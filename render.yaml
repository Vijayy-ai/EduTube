services:
  - type: web
    name: edutube-backend
    env: python
    region: singapore
    plan: free
    buildCommand: chmod +x ./build.sh && ./build.sh
    startCommand: cd backend && gunicorn edutube.wsgi:application
    envVars:
      - key: DEBUG
        value: "False"
      - key: ALLOWED_HOSTS
        value: ".onrender.com,localhost,127.0.0.1"
      - key: DATABASE_URL
        sync: false
      - key: SECRET_KEY
        generateValue: true
      - key: CORS_ALLOWED_ORIGINS
        value: "https://edutube-rust.vercel.app,http://localhost:3000"
      - key: YOUTUBE_API_KEY
        sync: false
      - key: CLOUDINARY_CLOUD_NAME
        sync: false
      - key: CLOUDINARY_API_KEY
        sync: false
      - key: CLOUDINARY_API_SECRET
        sync: false
      - key: FIREBASE_API_KEY
        sync: false
      - key: THIRDWEB_API_KEY
        sync: false
      - key: THIRDWEB_PRIVATE_KEY
        sync: false
      - key: PINATA_API_KEY
        sync: false
      - key: PINATA_SECRET_API_KEY
        sync: false
      - key: SITE_URL
        value: "https://edutube-backend.onrender.com"
      - key: SIMULATE_MINTING
        value: "True"
      - key: REDIS_URL
        sync: false
      - key: BLOCKCHAIN_NETWORK
        value: "polygon-mumbai"
      - key: BLOCKCHAIN_RPC_URL
        value: "https://rpc-mumbai.maticvigil.com"
